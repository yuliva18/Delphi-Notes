unit NoteUnit;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls;


type
  TMyProcEvent = procedure(Sender: TObject; val: integer) of object;
  Note = Class
    private
      FMyProcEvent : TMyProcEvent;
    protected
      procedure DoMyProcEvent(Sender: TObject; val: integer);
    public
      id: integer;
      body: string;
      panel: TPanel;
      procedure Init(Sender: TObject; _id: integer);
      procedure pC(Sender: TObject);
      property MyProcEvent: TMyProcEvent read FMyProcEvent write FMyProcEvent;
end;

implementation


procedure Note.DoMyProcEvent(Sender: TObject; val: integer);
begin
  if Assigned(FMyProcEvent) then
    FMyProcEvent(Sender, val);
end;

procedure Note.Init(Sender: TObject; _id: integer);
begin
  panel := TPanel.Create(TComponent(Sender));
  panel.Anchors := [akTop, akRight, akLeft];
  panel.Align := TAlign.alTop;
  id := _id;
  body := Format('Заметка номер %d', [id]);
  panel.Caption := body;
  panel.OnClick := pC;
end;

procedure Note.pC(Sender: TObject);
begin
  DoMyProcEvent(Self);
end;

end.
